<!DOCTYPE html><html lang="en" mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="theme" content="Chirpy v2.7.2"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="Local Server에 Kubernetes Cluster 구축하기 (0)" /><meta name="author" content="Taelim Hwang" /><meta property="og:locale" content="en_US" /><meta name="description" content="마스터 노드에서 필요한 필수 포트" /><meta property="og:description" content="마스터 노드에서 필요한 필수 포트" /><link rel="canonical" href="https://ghkdxofla.github.io/posts/kubernetes-local-setup-0/" /><meta property="og:url" content="https://ghkdxofla.github.io/posts/kubernetes-local-setup-0/" /><meta property="og:site_name" content="Taelim’s blog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-03-26T00:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Local Server에 Kubernetes Cluster 구축하기 (0)" /><meta name="twitter:site" content="@ghkdxofla" /><meta name="twitter:creator" content="@Taelim Hwang" /><meta name="google-site-verification" content="taelim" /> <script type="application/ld+json"> {"headline":"Local Server에 Kubernetes Cluster 구축하기 (0)","dateModified":"2021-03-26T00:00:00+09:00","datePublished":"2021-03-26T00:00:00+09:00","description":"마스터 노드에서 필요한 필수 포트","mainEntityOfPage":{"@type":"WebPage","@id":"https://ghkdxofla.github.io/posts/kubernetes-local-setup-0/"},"url":"https://ghkdxofla.github.io/posts/kubernetes-local-setup-0/","@type":"BlogPosting","author":{"@type":"Person","name":"Taelim Hwang"},"@context":"https://schema.org"}</script><title>Local Server에 Kubernetes Cluster 구축하기 (0) | Taelim's blog</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="preload" href="/assets/css/post.css" as="style"><link rel="stylesheet" href="/assets/css/post.css"><link rel="preload" as="style" href="/assets/css/lib/bootstrap-toc.min.css"><link rel="stylesheet" href="/assets/css/lib/bootstrap-toc.min.css" /> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script async src="/assets/js/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="http://www.gravatar.com/avatar/71f7d3fe60f25347506c60bc7f631e7d?s=150" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Taelim's blog</a></div><div class="site-subtitle font-italic">Normal life</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/tabs/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tabs/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/tabs/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/tabs/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/ghkdxofla" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/ghkdxofla" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['ghkdxofla','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>Local Server에 Kubernetes Cluster 구축하기 (0)</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Local Server에 Kubernetes Cluster 구축하기 (0)</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Fri, Mar 26, 2021, 12:00 AM +0900" > Mar 26, 2021 <i class="unloaded">2021-03-26T00:00:00+09:00</i> </span> by <span class="author"> Taelim Hwang </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="945 words">5 min</span></div></div><div class="post-content"><h1 id="마스터-노드에서-필요한-필수-포트">마스터 노드에서 필요한 필수 포트</h1><blockquote><p>6443 포트 : Kubernetes API Server / Used By All 2379~2380 포트 : etcd server client API / Used By kube-apiserver, etcd 10250 포트 : Kubelet API / Used By Self, Control plane 10251 포트 : kube-scheduler / Used By Self 10252 포트 : kube-controller-manager / Used By Self</p></blockquote><h1 id="워커-노드에서-필요한-필수-포트">워커 노드에서 필요한 필수 포트</h1><blockquote><p>10250 포트 : Kubelet API / Used By Self, Control plane 30000~32767 포트 : NodePort Services / Used By All</p></blockquote><h1 id="before-installation">Before installation</h1><h2 id="swap-off">Swap off</h2><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>swapoff <span class="nt">-a</span> 
<span class="nb">sed</span> <span class="nt">-i</span> <span class="s1">'2s/^/#/'</span> /etc/fstab
</pre></table></code></div></div><p>ex) #/swapfile none swap sw 0 0</p><h1 id="set-kubernetes-core-package">Set kubernetes core package</h1><h1 id="install-kubernetes-package">Install kubernetes package</h1><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>curl <span class="nt">-s</span> https://packages.cloud.google.com/apt/doc/apt-key.gpg | <span class="nb">sudo </span>apt-key add -
<span class="nb">cat</span> <span class="o">&lt;&lt;</span><span class="no">EOF</span><span class="sh"> | sudo tee /etc/apt/sources.list.d/kubernetes.list
deb https://apt.kubernetes.io/ kubernetes-xenial main
</span><span class="no">EOF
</span></pre></table></code></div></div><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>apt-get update
<span class="nb">sudo </span>apt-get <span class="nb">install</span> <span class="nt">-y</span> kubelet kubeadm kubectl
</pre></table></code></div></div><h2 id="패키지가-자동으로-설치-업그레이드-제거되지-않도록-hold함">패키지가 자동으로 설치, 업그레이드, 제거되지 않도록 hold함.</h2><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>apt-mark hold kubelet kubeadm kubectl
</pre></table></code></div></div><h2 id="설치-완료-확인">설치 완료 확인</h2><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>kubeadm version
kubelet <span class="nt">--version</span>
kubectl version
</pre></table></code></div></div><h1 id="set-containerd">Set containerd</h1><h2 id="before-installing-containerd">Before installing containerd</h2><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="nb">cat</span> <span class="o">&lt;&lt;</span><span class="no">EOF</span><span class="sh"> | sudo tee /etc/modules-load.d/containerd.conf
overlay
br_netfilter
</span><span class="no">EOF
</span></pre></table></code></div></div><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>modprobe overlay
<span class="nb">sudo </span>modprobe br_netfilter
</pre></table></code></div></div><h2 id="필요한-sysctl-파라미터를-설정하면-재부팅-후에도-유지된다">필요한 sysctl 파라미터를 설정하면 재부팅 후에도 유지된다</h2><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="nb">cat</span> <span class="o">&lt;&lt;</span><span class="no">EOF</span><span class="sh"> | sudo tee /etc/sysctl.d/99-kubernetes-cri.conf
net.bridge.bridge-nf-call-iptables  = 1
net.ipv4.ip_forward                 = 1
net.bridge.bridge-nf-call-ip6tables = 1
</span><span class="no">EOF
</span></pre></table></code></div></div><h2 id="재부팅하지-않고-sysctl-파라미터-적용">재부팅하지 않고 sysctl 파라미터 적용</h2><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>sysctl <span class="nt">--system</span>
</pre></table></code></div></div><h2 id="install-containerd">Install containerd</h2><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>apt-get update <span class="o">&amp;&amp;</span> <span class="nb">sudo </span>apt-get <span class="nb">install</span> <span class="nt">-y</span> containerd
</pre></table></code></div></div><h2 id="containerd-구성">containerd 구성</h2><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">sudo mkdir</span> <span class="nt">-p</span> /etc/containerd
containerd config default | <span class="nb">sudo tee</span> /etc/containerd/config.toml
</pre></table></code></div></div><h2 id="set-systemd-cgroup-driver">set systemd cgroup driver</h2><p>To use the systemd cgroup driver in /etc/containerd/config.toml with runc, set</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>[plugins."io.containerd.grpc.v1.cri".containerd.runtimes.runc]
  ...
  [plugins."io.containerd.grpc.v1.cri".containerd.runtimes.runc.options]
    SystemdCgroup = true
</pre></table></code></div></div><h2 id="restart-containerd">Restart containerd</h2><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>systemctl restart containerd
</pre></table></code></div></div><h1 id="init-kubeadm">Init kubeadm</h1><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>kubeadm Init
</pre></table></code></div></div><h2 id="when-error-is-occuredthe-connection-to-the-server-localhost8080-was-refused---did-you-specify-the-right-host-or-port">When error is occured(The connection to the server localhost:8080 was refused - did you specify the right host or port?)</h2><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="nb">mkdir</span> <span class="nt">-p</span> <span class="nv">$HOME</span>/.kube
<span class="nb">sudo cp</span> <span class="nt">-i</span> /etc/kubernetes/admin.conf <span class="nv">$HOME</span>/.kube/config
<span class="nb">sudo chown</span> <span class="si">$(</span><span class="nb">id</span> <span class="nt">-u</span><span class="si">)</span>:<span class="si">$(</span><span class="nb">id</span> <span class="nt">-g</span><span class="si">)</span> <span class="nv">$HOME</span>/.kube/config
</pre></table></code></div></div><h2 id="kubeadm-reset-시-error-발생할-경우">kubeadm reset 시 Error 발생할 경우</h2><h3 id="unknown-service-runtimev1alpha2runtimeservice">unknown service runtime.v1alpha2.RuntimeService</h3><p>이 경우는 containerd를 사용할 때 발생함</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="nb">rm</span> /etc/containerd/config.toml
systemctl restart containerd
kubeadm reset <span class="nt">-f</span>
kubeadm init
</pre></table></code></div></div><h3 id="kubectl-get-pods-all-namespaces-시-error-발생할-경우">kubectl get pods –all-namespaces 시, Error 발생할 경우</h3><p>Error message는 다음과 같다</p><ul><li>Unable to connect to the server: x509: certificate signed by unknown authority (possibly because of “crypto/rsa: verification error” while trying to verify candidate authority certificate “kubernetes”)</ul><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="nb">mv</span>  <span class="nv">$HOME</span>/.kube <span class="nv">$HOME</span>/.kube.bak
<span class="nb">mkdir</span> <span class="nv">$HOME</span>/.kube
<span class="nb">sudo cp</span> <span class="nt">-i</span> /etc/kubernetes/admin.conf <span class="nv">$HOME</span>/.kube/config
<span class="nb">sudo chown</span> <span class="si">$(</span><span class="nb">id</span> <span class="nt">-u</span><span class="si">)</span>:<span class="si">$(</span><span class="nb">id</span> <span class="nt">-g</span><span class="si">)</span> <span class="nv">$HOME</span>/.kube/config
</pre></table></code></div></div><p>참고 : <a href="https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/troubleshooting-kubeadm/#tls-certificate-errors">TLS certificate errors</a></p><h1 id="set-flannel">Set Flannel</h1><h2 id="cni">CNI?</h2><p>다른 Worker Node의 Pod 간 통신 문제점을 해결</p><p>참고 : <a href="https://ikcoo.tistory.com/11">Kubernetes Network 이론</a></p><h2 id="flannel">Flannel?</h2><p>서로 다른 노드에 있는 pod 간 통신을 위한 CNI Plug-in</p><p>Flannel is a simple and easy way to configure a layer 3 network fabric designed for Kubernetes.</p><p>Flannel runs a small, single binary agent called flanneld on each host, and is responsible for allocating a subnet lease to each host out of a larger, preconfigured address space. Flannel uses either the Kubernetes API or etcd directly to store the network configuration, the allocated subnets, and any auxiliary data (such as the host’s public IP). Packets are forwarded using one of several backend mechanisms including VXLAN and various cloud integrations.</p><p>참고 : <a href="https://github.com/flannel-io/flannel">Flannel homepage</a></p><h2 id="coredns의-status가-pending일-경우">coredns의 status가 pending일 경우</h2><p>아래와 같이 Status가 pending으로, 컨테이너가 running status가 아님</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre>NAMESPACE     NAME                                     READY   STATUS    RESTARTS   AGE
kube-system   coredns-74ff55c5b-lc48g                  0/1     Pending   0          22h
kube-system   coredns-74ff55c5b-spf2t                  0/1     Pending   0          22h
kube-system   etcd-taelim-desktop                      1/1     Running   0          22h
kube-system   kube-apiserver-taelim-desktop            1/1     Running   0          22h
kube-system   kube-controller-manager-taelim-desktop   1/1     Running   0          22h
kube-system   kube-proxy-jlhv5                         1/1     Running   0          22h
kube-system   kube-scheduler-taelim-desktop            1/1     Running   0          22h
</pre></table></code></div></div><h2 id="coredns의-loop-제외">coredns의 loop 제외</h2><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl edit cm coredns <span class="nt">-n</span> kube-system
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
</pre><td class="rouge-code"><pre># Please edit the object below. Lines beginning with a '#' will be ignored,
# and an empty file will abort the edit. If an error occurs while saving this file will be
# reopened with the relevant failures.
#
apiVersion: v1
data:
  Corefile: |
    .:53 {
        errors
        health {
           lameduck 5s
        }
        ready
        kubernetes cluster.local in-addr.arpa ip6.arpa {
           pods insecure
           fallthrough in-addr.arpa ip6.arpa
           ttl 30
        }
        prometheus :9153
        forward . /etc/resolv.conf {
           max_concurrent 1000
        }
        cache 30
        # loop # 여기를 주석 처리
        reload
        loadbalance
    }
kind: ConfigMap
metadata:
  creationTimestamp: "2021-03-25T00:57:38Z"
  name: coredns
  namespace: kube-system
  resourceVersion: "97463"
  uid: da297432-8aa8-4d73-a3d6-547e69e582de
</pre></table></code></div></div><h2 id="install-flannel">Install Flannel</h2><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>kubectl apply <span class="nt">-f</span> https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube-flannel.yml
</pre></table></code></div></div><p>이후 확인 시, coredns 또한 running status 임을 확인 가능</p><p>참고 : <a href="https://www.howtodo.cloud/kubernetes/2019/08/13/kubernetes-kubeadm.html">Kubernetes Cluster 구성하기</a></p><hr /><p>이후의 Worker node 생성 및 연결 작업, Dashboard 세팅 등을 업로드 할 예정</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/distributed-system/'>Distributed System</a>, <a href='/categories/kubernetes/'>Kubernetes</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/distributed-system/" class="post-tag no-text-decoration" >Distributed System</a> <a href="/tags/kubernetes/" class="post-tag no-text-decoration" >Kubernetes</a> <a href="/tags/container-orchestration/" class="post-tag no-text-decoration" >container orchestration</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Local Server에 Kubernetes Cluster 구축하기 (0) - Taelim's blog&url=https://ghkdxofla.github.io/posts/kubernetes-local-setup-0/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Local Server에 Kubernetes Cluster 구축하기 (0) - Taelim's blog&u=https://ghkdxofla.github.io/posts/kubernetes-local-setup-0/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Local Server에 Kubernetes Cluster 구축하기 (0) - Taelim's blog&url=https://ghkdxofla.github.io/posts/kubernetes-local-setup-0/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/serverless-framework-setup-0/">Serverless framework를 활용한 서비스 개발 (0)</a><li><a href="/posts/mongodb(1)/">MongoDB 설치 및 사용법</a><li><a href="/posts/jupyter_notebook/">Jupyter notebook 설치 및 사용법</a><li><a href="/posts/bokeh/">Bokeh 사용법</a><li><a href="/posts/python/">Python</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/%EA%B0%9C%EB%B0%9C/">개발</a> <a class="post-tag" href="/tags/python/">Python</a> <a class="post-tag" href="/tags/database/">Database</a> <a class="post-tag" href="/tags/%ED%99%98%EA%B2%BD-%EA%B5%AC%EC%B6%95/">환경 구축</a> <a class="post-tag" href="/tags/network/">Network</a> <a class="post-tag" href="/tags/programming-language/">Programming Language</a> <a class="post-tag" href="/tags/data-analysis/">Data Analysis</a> <a class="post-tag" href="/tags/data-science/">Data Science</a> <a class="post-tag" href="/tags/server/">Server</a> <a class="post-tag" href="/tags/distributed-system/">Distributed System</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/serverless-framework-setup-0/"><div class="card-body"> <span class="timeago small" > Mar 31, 2021 <i class="unloaded">2021-03-31T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Serverless framework를 활용한 서비스 개발 (0)</h3><div class="text-muted small"><p> 설명 공식 페이지의 설명은 다음과 같다. Develop, deploy, troubleshoot and secure your serverless applications with radically less overhead and cost by using the Serverless Framework. 대략적으로, Serverless Architect...</p></div></div></a></div><div class="card"> <a href="/posts/serverless-framework-setup-1/"><div class="card-body"> <span class="timeago small" > Apr 1, 2021 <i class="unloaded">2021-04-01T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Serverless framework를 활용한 서비스 개발 (1)</h3><div class="text-muted small"><p> Function? serverless.yml 파일에는 functions 속성이 존재한다. 현재 개발 중인 프로젝트에서 일부 발췌하면 다음과 같다. 참고로, 아래의 설정값은 function.yml에 기입되어 있고, 해당 파일을 serverless.yml에서 참조하는 형태로 구성하였다. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15...</p></div></div></a></div><div class="card"> <a href="/posts/docker/"><div class="card-body"> <span class="timeago small" > Jul 21, 2020 <i class="unloaded">2020-07-21T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Docker란?</h3><div class="text-muted small"><p> Docker란? 설치 ### Update repository $ sudo apt-get update ### Install requirements $ sudo apt-get install \ apt-transport-https \ ca-certificates \ curl \ gnupg-agent \ software...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/webserver/" class="btn btn-outline-primary"><p>Web Server란?</p></a> <a href="/posts/serverless-framework-setup-0/" class="btn btn-outline-primary"><p>Serverless framework를 활용한 서비스 개발 (0)</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://twitter.com/ghkdxofla">Taelim Hwang</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy/" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-xl-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/%EA%B0%9C%EB%B0%9C/">개발</a> <a class="post-tag" href="/tags/python/">Python</a> <a class="post-tag" href="/tags/database/">Database</a> <a class="post-tag" href="/tags/%ED%99%98%EA%B2%BD-%EA%B5%AC%EC%B6%95/">환경 구축</a> <a class="post-tag" href="/tags/network/">Network</a> <a class="post-tag" href="/tags/programming-language/">Programming Language</a> <a class="post-tag" href="/tags/data-analysis/">Data Analysis</a> <a class="post-tag" href="/tags/data-science/">Data Science</a> <a class="post-tag" href="/tags/server/">Server</a> <a class="post-tag" href="/tags/distributed-system/">Distributed System</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://ghkdxofla.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"><div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div><div><i class="fa fa-tag fa-fw"></i>{tags}</div></div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>' }); </script>
